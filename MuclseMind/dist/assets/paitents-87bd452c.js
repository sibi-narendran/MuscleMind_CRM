import{j as l,r as le,e as rn,S as ut,f as Hr,g as tn,h as zr,i as Or,m as Fe,k as Wr,l as Mr,n as Lr,R as Vr}from"./index-1369e829.js";import{B as Yr}from"./Breadcrumb-ec2a7ccb.js";import{E as Ur}from"./jspdf.es.min-4c303147.js";import{M as Ke,B as Ge,I as je,E as Xr}from"./index-ac99bac4.js";import{C as Je,A as $r}from"./AddPatientModal-38919c0b.js";import{F as J,R as Le,C as Ie,a as he,D as Dr}from"./DownloadOutlined-9746fb9f.js";import{U as qr,a as Kr}from"./index-0d07c68a.js";import{E as Jr,P as Qr}from"./EditOutlined-7f41cc65.js";import{S as Zr}from"./index-7b979b7f.js";import"./useBubbleLock-b3567789.js";import"./roundedArrow-db736918.js";const ct=(z,xe)=>{var U,te,fe,ue,oe,M,Z,X,se,Ce,Se,_e,Pe;const u=new Ur,h=v=>v==null?"":String(v),ge="helvetica",d="helvetica";u.setFont(ge,"bold"),u.rect(10,10,190,277),u.rect(15,15,180,15),u.setFontSize(12),u.text(`${xe}`,105,22,{align:"center"}),u.rect(15,32,180,10),u.text("CASE RECORD",105,38,{align:"center"});const c=45,re=7;let B=c;u.rect(15,c,180,45),u.setFont(d,"normal"),u.setFontSize(10);let a=20,q=120;u.text("Doctors Name:",a,B+7),u.text(z.care_person?`Dr. ${h(z.care_person)}`:"",a+35,B+7),u.text("S.No.",q,B+7),u.text(h(z.patient_id),q+25,B+7),B+=re,u.text("Pt. Name:",a,B+7),u.text(h(z.name),a+35,B+7),u.text("Date:",q,B+7),u.text(new Date().toLocaleDateString(),q+25,B+7),B+=re,u.text("Age/Sex:",a,B+7),u.text(`${h(z.age)} / ${h(z.gender)}`,a+35,B+7),B+=re,u.text("Address/Ph. No.",a,B+7),u.text(h(z.phone),a+35,B+7),B=95,u.rect(15,B,180,80),u.line(105,B,105,B+80),u.setFont(ge,"bold"),u.text("DENTAL HISTORY:",a,B+4);let Q=B+13;if(u.setFont(d,"normal"),u.text("Chief Complaint:",a,Q+6),(U=z.case_sheet_info)!=null&&U.chief_complaint){const v=u.splitTextToSize(h(z.case_sheet_info.chief_complaint),85);u.text(v,a+5,Q+12)}if(Q+=13,u.text("History of Present Illness:",a,Q+8),(te=z.case_sheet_info)!=null&&te.present_illness){const v=u.splitTextToSize(h(z.case_sheet_info.present_illness),85);u.text(v,a+5,Q+12)}if(Q+=13,u.text("Past Dental History:",a,Q+8),(fe=z.case_sheet_info)!=null&&fe.dental_history){const v=u.splitTextToSize(h(z.case_sheet_info.dental_history),85);u.text(v,a+5,Q+12)}if(Q+=13,u.text("Treatment Plan:",a,Q+8),(ue=z.case_sheet_info)!=null&&ue.treatment_plan){const v=u.splitTextToSize(h(z.case_sheet_info.treatment_plan),85);u.text(v,a+5,Q+12)}let K=B+12;if(u.text("Decayed:",q,K+8),(oe=z.case_sheet_info)!=null&&oe.decayed&&u.text(h(z.case_sheet_info.decayed),q+30,K+6),K+=12,u.text("Grossly Decayed:",q,K+6),(M=z.case_sheet_info)!=null&&M.grossly_decayed&&u.text(h(z.case_sheet_info.grossly_decayed),q+30,K+6),K+=12,u.text("Roots Stumps:",q,K+6),(Z=z.case_sheet_info)!=null&&Z.roots_stumps&&u.text(h(z.case_sheet_info.roots_stumps),q+30,K+6),K+=12,u.text("Other Diagnosis:",q,K+6),(X=z.case_sheet_info)!=null&&X.other_diagnosis&&u.text(h(z.case_sheet_info.other_diagnosis),q+30,K+6),B=180,u.rect(15,B,180,40),u.setFont(ge,"bold"),u.text("PAST MEDICAL HISTORY:",a,B+7),u.setFont(d,"normal"),B+=12,[["Cardiovascular","Hepatic"],["Respiratory","Renal"],["Gastrointestinal","Endocrine"],["Neural","(Diabetes)"]].forEach((v,ce)=>{var de,we,ke,Ne;const me=B+ce*7;u.text(v[0],a,me),u.text(h(((we=(de=z.case_sheet_info)==null?void 0:de.medical_conditions)==null?void 0:we[v[0].toLowerCase()])||"No"),a+45,me),u.text(v[1],q,me),u.text(h(((Ne=(ke=z.case_sheet_info)==null?void 0:ke.medical_conditions)==null?void 0:Ne[v[1].toLowerCase()])||"No"),q+45,me)}),B=225,u.rect(15,B,180,15),u.setFont(ge,"bold"),u.text("ALLERGIC TO:",a,B+7),u.setFont(d,"normal"),(se=z.case_sheet_info)!=null&&se.allergies&&u.text(h(z.case_sheet_info.allergies),a+45,B+7),B=245,u.rect(15,B,180,20),u.text("Have you been hospitalized / Operated:",a,B+7),u.text(h(((Ce=z.case_sheet_info)==null?void 0:Ce.hospitalization_history)||"No"),a+100,B+7),((Se=z.case_sheet_info)==null?void 0:Se.hospitalization_history)==="Yes"&&((_e=z.case_sheet_info)!=null&&_e.hospitalization_details)){u.text("If Yes, give details:",a,B+14);const v=u.splitTextToSize(h(z.case_sheet_info.hospitalization_details),165);u.text(v,a+45,B+14)}return B=270,u.rect(15,B,180,15),u.text("Are you pregnant?",a,B+7),u.text(h(((Pe=z.case_sheet_info)==null?void 0:Pe.pregnancy_status)||"No"),a+100,B+7),u},eo=({visible:z,onClose:xe,patient:u,clinicName:h})=>{const ge=()=>{const c=ct(u,h).output("datauristring"),re=window.open();re&&re.document.write(`<iframe width='100%' height='100%' src='${c}'></iframe>`)};return l.jsx(Ke,{title:"Case Sheet Preview",open:z,onCancel:xe,footer:[l.jsx(Ge,{onClick:xe,children:"Close"},"close"),l.jsx(Ge,{onClick:ge,children:"Preview"},"preview")],children:l.jsx("div",{className:"p-4",children:l.jsx("p",{children:'Click "Preview" to view the case sheet in a new window.'})})})},{Option:nn}=ut,{TextArea:Te}=je,{Panel:at}=Je,to=["Male","Female","Other"],no=({visible:z,onClose:xe,patient:u,onSave:h,onDelete:ge})=>{var Q,K,Re,U,te,fe,ue,oe,M,Z,X,se,Ce,Se,_e,Pe;const[d,c]=le.useState(u),[re,B]=le.useState([]);le.useEffect(()=>{c(u)},[u]),le.useEffect(()=>{a()},[]);const a=async()=>{const v=await rn();B(Array.isArray(v.data)?v.data:[])},q=async()=>{try{const v=new FormData;Object.keys(v).forEach(ce=>{ce!=="documents"&&v.append(ce,v[ce])}),v.documents&&v.documents.length>0&&v.documents.forEach(ce=>{ce.originFileObj instanceof File&&v.append("documents",ce.originFileObj,ce.name)}),await h(v)}catch(v){console.error("Error updating patient:",v)}};return l.jsx(Ke,{title:"Edit Patient",open:z,onOk:q,onCancel:xe,okText:"Save",cancelText:"Cancel",width:800,footer:[l.jsx(Ge,{type:"danger",onClick:()=>ge(u),children:"Delete"},"delete"),l.jsx(Ge,{onClick:xe,children:"Cancel"},"cancel"),l.jsx(Ge,{type:"primary",onClick:q,children:"Save"},"save")],children:l.jsx(J,{layout:"vertical",children:l.jsxs(Je,{defaultActiveKey:["1"],className:"mb-4",accordion:!0,children:[l.jsxs(at,{header:"Personal Information",children:[l.jsx(J.Item,{label:"Name",children:l.jsx(je,{placeholder:"Name",value:(d==null?void 0:d.name)||"",onChange:v=>c({...d,name:v.target.value})})}),l.jsx(J.Item,{label:"Age",children:l.jsx(je,{type:"number",placeholder:"Age",value:(d==null?void 0:d.age)||"",onChange:v=>c({...d,age:v.target.value})})}),l.jsx(J.Item,{label:"Gender",children:l.jsx(ut,{value:(d==null?void 0:d.gender)||"",onChange:v=>c({...d,gender:v}),children:to.map(v=>l.jsx(nn,{value:v,children:v},v))})}),l.jsx(J.Item,{label:"Email",children:l.jsx(je,{placeholder:"Email",value:(d==null?void 0:d.email)||"",onChange:v=>c({...d,email:v.target.value})})}),l.jsx(J.Item,{label:"Phone",children:l.jsx(je,{placeholder:"Phone",value:(d==null?void 0:d.phone)||"",onChange:v=>c({...d,phone:v.target.value})})}),l.jsx(J.Item,{label:"Care of",children:l.jsx(ut,{value:(d==null?void 0:d.care_person)||"",onChange:v=>c({...d,care_person:v}),children:re.map(v=>l.jsx(nn,{value:v.name,children:"Dr. "+v.name},v.name))})})]},"1"),l.jsx(at,{header:"Case Sheet Information",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"border p-4 rounded",children:[l.jsx("h3",{className:"font-bold mb-4",children:"DENTAL HISTORY"}),l.jsxs(Le,{gutter:16,children:[l.jsx(Ie,{span:12,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(J.Item,{label:"Chief Complaint",children:l.jsx(Te,{value:((Q=d==null?void 0:d.case_sheet_info)==null?void 0:Q.chief_complaint)||"",onChange:v=>c({...d,case_sheet_info:{...d.case_sheet_info,chief_complaint:v.target.value}}),rows:3,className:"dark:bg-gray-800 dark:text-black"})}),l.jsx(J.Item,{label:"History of Present Illness",children:l.jsx(Te,{value:((K=d==null?void 0:d.case_sheet_info)==null?void 0:K.present_illness)||"",onChange:v=>c({...d,case_sheet_info:{...d.case_sheet_info,present_illness:v.target.value}}),rows:3,className:"dark:bg-gray-800 dark:text-black"})}),l.jsx(J.Item,{label:"Past Dental History",children:l.jsx(Te,{value:((Re=d==null?void 0:d.case_sheet_info)==null?void 0:Re.dental_history)||"",onChange:v=>c({...d,case_sheet_info:{...d.case_sheet_info,dental_history:v.target.value}}),rows:3,className:"dark:bg-gray-800 dark:text-black"})}),l.jsx(J.Item,{label:"Medical History",children:l.jsx(Te,{value:((U=d==null?void 0:d.case_sheet_info)==null?void 0:U.medical_history)||"",onChange:v=>c({...d,case_sheet_info:{...d.case_sheet_info,medical_history:v.target.value}}),rows:3,className:"dark:bg-gray-800 dark:text-black"})})]})}),l.jsx(Ie,{span:12,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(J.Item,{label:"Decayed",children:l.jsx(je,{value:((te=d==null?void 0:d.case_sheet_info)==null?void 0:te.decayed)||"",onChange:v=>c({...d,case_sheet_info:{...d.case_sheet_info,decayed:v.target.value}}),className:"dark:bg-gray-800 dark:text-black"})}),l.jsx(J.Item,{label:"Grossly Decayed",children:l.jsx(je,{value:((fe=d==null?void 0:d.case_sheet_info)==null?void 0:fe.grossly_decayed)||"",onChange:v=>c({...d,case_sheet_info:{...d.case_sheet_info,grossly_decayed:v.target.value}}),className:"dark:bg-gray-800 dark:text-black"})}),l.jsx(J.Item,{label:"Roots Stumps",children:l.jsx(je,{value:((ue=d==null?void 0:d.case_sheet_info)==null?void 0:ue.roots_stumps)||"",onChange:v=>c({...d,case_sheet_info:{...d.case_sheet_info,roots_stumps:v.target.value}}),className:"dark:bg-gray-800 dark:text-black"})}),l.jsx(J.Item,{label:"Other Diagnosis",children:l.jsx(Te,{value:((oe=d==null?void 0:d.case_sheet_info)==null?void 0:oe.other_diagnosis)||"",onChange:v=>c({...d,case_sheet_info:{...d.case_sheet_info,other_diagnosis:v.target.value}}),rows:2,className:"dark:bg-gray-800 dark:text-black"})}),l.jsx(J.Item,{label:"Treatment Plan",children:l.jsx(Te,{value:((M=d==null?void 0:d.case_sheet_info)==null?void 0:M.treatment_plan)||"",onChange:v=>c({...d,case_sheet_info:{...d.case_sheet_info,treatment_plan:v.target.value}}),rows:2,className:"dark:bg-gray-800 dark:text-black"})})]})})]})]}),l.jsxs("div",{className:"border p-4 rounded",children:[l.jsx("h3",{className:"font-bold mb-4",children:"PAST MEDICAL HISTORY"}),l.jsx("p",{className:"mb-2",children:"ANY RELATED DISEASES TO:"}),l.jsxs(Le,{gutter:16,children:[l.jsx(Ie,{span:12,children:["cardiovascular","respiratory","gastrointestinal","neural"].map(v=>{var ce,me;return l.jsx(J.Item,{label:v.charAt(0).toUpperCase()+v.slice(1),children:l.jsxs(he.Group,{value:((me=(ce=d==null?void 0:d.case_sheet_info)==null?void 0:ce.medical_conditions)==null?void 0:me[v])||"No",onChange:de=>{var we;return c({...d,case_sheet_info:{...d.case_sheet_info,medical_conditions:{...(we=d.case_sheet_info)==null?void 0:we.medical_conditions,[v]:de.target.value}}})},children:[l.jsx(he,{value:"Yes",children:"Yes"}),l.jsx(he,{value:"No",children:"No"})]})},v)})}),l.jsx(Ie,{span:12,children:["hepatic","renal","endocrine","diabetes"].map(v=>{var ce,me;return l.jsx(J.Item,{label:v.charAt(0).toUpperCase()+v.slice(1),children:l.jsxs(he.Group,{value:((me=(ce=d==null?void 0:d.case_sheet_info)==null?void 0:ce.medical_conditions)==null?void 0:me[v])||"No",onChange:de=>{var we;return c({...d,case_sheet_info:{...d.case_sheet_info,medical_conditions:{...(we=d.case_sheet_info)==null?void 0:we.medical_conditions,[v]:de.target.value}}})},children:[l.jsx(he,{value:"Yes",children:"Yes"}),l.jsx(he,{value:"No",children:"No"})]})},v)})})]})]}),l.jsxs("div",{className:"border p-4 rounded",children:[l.jsx(J.Item,{label:"ALLERGIC TO",children:l.jsx(je,{value:((Z=d==null?void 0:d.case_sheet_info)==null?void 0:Z.allergies)||"",onChange:v=>c({...d,case_sheet_info:{...d.case_sheet_info,allergies:v.target.value}}),className:"dark:bg-gray-800 dark:text-black"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(J.Item,{label:"Have you been hospitalized / Operated?",children:l.jsxs(he.Group,{value:((X=d==null?void 0:d.case_sheet_info)==null?void 0:X.hospitalization_history)||"No",onChange:v=>c({...d,case_sheet_info:{...d.case_sheet_info,hospitalization_history:v.target.value}}),children:[l.jsx(he,{value:"Yes",children:"Yes"}),l.jsx(he,{value:"No",children:"No"})]})}),((se=d==null?void 0:d.case_sheet_info)==null?void 0:se.hospitalization_history)==="Yes"&&l.jsx(J.Item,{label:"If Yes, give details",className:"ml-8",children:l.jsx(Te,{value:((Ce=d==null?void 0:d.case_sheet_info)==null?void 0:Ce.hospitalization_details)||"",onChange:v=>c({...d,case_sheet_info:{...d.case_sheet_info,hospitalization_details:v.target.value}}),rows:2,className:"dark:bg-gray-800 dark:text-black"})})]}),l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsx(J.Item,{label:"Are you pregnant?",children:l.jsxs(he.Group,{value:((Se=d==null?void 0:d.case_sheet_info)==null?void 0:Se.pregnancy_status)||"No",onChange:v=>c({...d,case_sheet_info:{...d.case_sheet_info,pregnancy_status:v.target.value}}),children:[l.jsx(he,{value:"Yes",children:"Yes"}),l.jsx(he,{value:"No",children:"No"})]})}),((_e=d==null?void 0:d.case_sheet_info)==null?void 0:_e.pregnancy_status)==="Yes"&&l.jsx(J.Item,{label:"If Yes, select trimester",className:"ml-8",children:l.jsxs(he.Group,{value:((Pe=d==null?void 0:d.case_sheet_info)==null?void 0:Pe.trimester)||"",onChange:v=>c({...d,case_sheet_info:{...d.case_sheet_info,trimester:v.target.value}}),children:[l.jsx(he,{value:"I",children:"I TRIMESTER"}),l.jsx(he,{value:"II",children:"II TRIMESTER"}),l.jsx(he,{value:"III",children:"III TRIMESTER"})]})})]})]})]})},"2"),l.jsx(at,{header:"Additional Information",children:l.jsx(J.Item,{label:"Documents",children:l.jsx(qr,{beforeUpload:v=>!1,fileList:(d==null?void 0:d.documents)||[],onChange:({fileList:v})=>{c({...d,documents:v})},children:l.jsx(Ge,{icon:l.jsx(Kr,{}),children:"Upload Documents"})})})},"3")]})})})};var on={exports:{}},dt={exports:{}};(function(z,xe){(function(u,h){h(xe,le)})(Hr,function(u,h){function ge(e,t,n,r,s,o,i){try{var f=e[o](i),p=f.value}catch(g){return void n(g)}f.done?t(p):Promise.resolve(p).then(r,s)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function i(p){ge(o,r,s,i,f,"next",p)}function f(p){ge(o,r,s,i,f,"throw",p)}i(void 0)})}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function re(e,t){if(e==null)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}function B(e){var t=function(n,r){if(typeof n!="object"||n===null)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,r||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return typeof t=="symbol"?t:String(t)}h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h;var a={init:"init"},q=function(e){var t=e.value;return t===void 0?"":t},Q=function(){return h.createElement(h.Fragment,null," ")},K={Cell:q,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function Re(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(r,s){var o=s.style,i=s.className;return r=c({},r,{},re(s,["style","className"])),o&&(r.style=r.style?c({},r.style||{},{},o||{}):o),i&&(r.className=r.className?r.className+" "+i:i),r.className===""&&delete r.className,r},{})}var U=function(e,t){return t===void 0&&(t={}),function(n){return n===void 0&&(n={}),[].concat(e,[n]).reduce(function(r,s){return function o(i,f,p){return typeof f=="function"?o({},f(i,p)):Array.isArray(f)?Re.apply(void 0,[i].concat(f)):Re(i,f)}(r,s,c({},t,{userProps:n}))},{})}},te=function(e,t,n,r){return n===void 0&&(n={}),e.reduce(function(s,o){return o(s,n)},t)},fe=function(e,t,n){return n===void 0&&(n={}),e.forEach(function(r){r(t,n)})};function ue(e,t,n,r){e.findIndex(function(s){return s.pluginName===n}),t.forEach(function(s){e.findIndex(function(o){return o.pluginName===s})})}function oe(e,t){return typeof e=="function"?e(t):e}function M(e){var t=h.useRef();return t.current=e,h.useCallback(function(){return t.current},[])}var Z=typeof document<"u"?h.useLayoutEffect:h.useEffect;function X(e,t){var n=h.useRef(!1);Z(function(){n.current&&e(),n.current=!0},t)}function se(e,t,n){return n===void 0&&(n={}),function(r,s){s===void 0&&(s={});var o=typeof r=="string"?t[r]:r;if(o===void 0)throw console.info(t),new Error("Renderer Error ☝️");return Ce(o,c({},e,{column:t},n,{},s))}}function Ce(e,t){return function(r){return typeof r=="function"&&(s=Object.getPrototypeOf(r)).prototype&&s.prototype.isReactComponent;var s}(n=e)||typeof n=="function"||function(r){return typeof r=="object"&&typeof r.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(r.$$typeof.description)}(n)?h.createElement(e,t):e;var n}function Se(e,t,n){return n===void 0&&(n=0),e.map(function(r){return Pe(r=c({},r,{parent:t,depth:n})),r.columns&&(r.columns=Se(r.columns,r,n+1)),r})}function _e(e){return ke(e,"columns")}function Pe(e){var t=e.id,n=e.accessor,r=e.Header;if(typeof n=="string"){t=t||n;var s=n.split(".");n=function(o){return function(i,f,p){if(!f)return i;var g,b=typeof f=="function"?f:JSON.stringify(f),y=me.get(b)||function(){var x=function(m){return function w(C,S){if(S===void 0&&(S=[]),Array.isArray(C))for(var j=0;j<C.length;j+=1)w(C[j],S);else S.push(C);return S}(m).map(function(w){return String(w).replace(".","_")}).join(".").replace($,".").replace(ze,"").split(".")}(f);return me.set(b,x),x}();try{g=y.reduce(function(x,m){return x[m]},i)}catch{}return g!==void 0?g:p}(o,s)}}if(!t&&typeof r=="string"&&r&&(t=r),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:n}),e}function v(e,t){if(!t)throw new Error;return Object.assign(e,c({Header:Q,Footer:Q},K,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function ce(e,t,n){n===void 0&&(n=function(){return{}});for(var r=[],s=e,o=0,i=function(){return o++},f=function(){var p={headers:[]},g=[],b=s.some(function(y){return y.parent});s.forEach(function(y){var x,m=[].concat(g).reverse()[0];b&&(y.parent?x=c({},y.parent,{originalId:y.parent.id,id:y.parent.id+"_"+i(),headers:[y]},n(y)):x=v(c({originalId:y.id+"_placeholder",id:y.id+"_placeholder_"+i(),placeholderOf:y,headers:[y]},n(y)),t),m&&m.originalId===x.originalId?m.headers.push(y):g.push(x)),p.headers.push(y)}),r.push(p),s=g};s.length;)f();return r.reverse()}var me=new Map;function de(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r+=1)if(t[r]!==void 0)return t[r]}function we(e){if(typeof e=="function")return e}function ke(e,t){var n=[];return function r(s){s.forEach(function(o){o[t]?r(o[t]):n.push(o)})}(e),n}function Ne(e,t){var n=t.manualExpandedKey,r=t.expanded,s=t.expandSubRows,o=s===void 0||s,i=[];return e.forEach(function(f){return function p(g,b){b===void 0&&(b=!0),g.isExpanded=g.original&&g.original[n]||r[g.id],g.canExpand=g.subRows&&!!g.subRows.length,b&&i.push(g),g.subRows&&g.subRows.length&&g.isExpanded&&g.subRows.forEach(function(y){return p(y,o)})}(f)}),i}function Ae(e,t,n){return we(e)||t[e]||n[e]||n.text}function Oe(e,t,n){return e?e(t,n):t===void 0}function He(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var E=null,$=/\[/g,ze=/\]/g,Ve=function(e){return c({role:"table"},e)},sn=function(e){return c({role:"rowgroup"},e)},an=function(e,t){var n=t.column;return c({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},e)},ln=function(e,t){var n=t.column;return c({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},e)},un=function(e,t){return c({key:"headerGroup_"+t.index,role:"row"},e)},cn=function(e,t){return c({key:"footerGroup_"+t.index},e)},dn=function(e,t){return c({key:"row_"+t.row.id,role:"row"},e)},fn=function(e,t){var n=t.cell;return c({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},e)};function pn(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[Ve],getTableBodyProps:[sn],getHeaderGroupProps:[un],getFooterGroupProps:[cn],getHeaderProps:[an],getFooterProps:[ln],getRowProps:[dn],getCellProps:[fn],useFinalInstance:[]}}a.resetHiddenColumns="resetHiddenColumns",a.toggleHideColumn="toggleHideColumn",a.setHiddenColumns="setHiddenColumns",a.toggleHideAllColumns="toggleHideAllColumns";var ft=function(e){e.getToggleHiddenProps=[gn],e.getToggleHideAllColumnsProps=[hn],e.stateReducers.push(mn),e.useInstanceBeforeDimensions.push(vn),e.headerGroupsDeps.push(function(t,n){var r=n.instance;return[].concat(t,[r.state.hiddenColumns])}),e.useInstance.push(yn)};ft.pluginName="useColumnVisibility";var gn=function(e,t){var n=t.column;return[e,{onChange:function(r){n.toggleHidden(!r.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},hn=function(e,t){var n=t.instance;return[e,{onChange:function(r){n.toggleHideAllColumns(!r.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function mn(e,t,n,r){if(t.type===a.init)return c({hiddenColumns:[]},e);if(t.type===a.resetHiddenColumns)return c({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(t.type===a.toggleHideColumn){var s=(t.value!==void 0?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter(function(o){return o!==t.columnId});return c({},e,{hiddenColumns:s})}return t.type===a.setHiddenColumns?c({},e,{hiddenColumns:oe(t.value,e.hiddenColumns)}):t.type===a.toggleHideAllColumns?c({},e,{hiddenColumns:(t.value!==void 0?t.value:!e.hiddenColumns.length)?r.allColumns.map(function(o){return o.id}):[]}):void 0}function vn(e){var t=e.headers,n=e.state.hiddenColumns;h.useRef(!1).current;var r=0;t.forEach(function(s){return r+=function o(i,f){i.isVisible=f&&!n.includes(i.id);var p=0;return i.headers&&i.headers.length?i.headers.forEach(function(g){return p+=o(g,i.isVisible)}):p=i.isVisible?1:0,i.totalVisibleHeaderCount=p,p}(s,!0)})}function yn(e){var t=e.columns,n=e.flatHeaders,r=e.dispatch,s=e.allColumns,o=e.getHooks,i=e.state.hiddenColumns,f=e.autoResetHiddenColumns,p=f===void 0||f,g=M(e),b=s.length===i.length,y=h.useCallback(function(S,j){return r({type:a.toggleHideColumn,columnId:S,value:j})},[r]),x=h.useCallback(function(S){return r({type:a.setHiddenColumns,value:S})},[r]),m=h.useCallback(function(S){return r({type:a.toggleHideAllColumns,value:S})},[r]),w=U(o().getToggleHideAllColumnsProps,{instance:g()});n.forEach(function(S){S.toggleHidden=function(j){r({type:a.toggleHideColumn,columnId:S.id,value:j})},S.getToggleHiddenProps=U(o().getToggleHiddenProps,{instance:g(),column:S})});var C=M(p);X(function(){C()&&r({type:a.resetHiddenColumns})},[r,t]),Object.assign(e,{allColumnsHidden:b,toggleHideColumn:y,setHiddenColumns:x,toggleHideAllColumns:m,getToggleHideAllColumnsProps:w})}var xn={},wn={},bn=function(e,t,n){return e},Rn=function(e,t){return e.subRows||[]},Cn=function(e,t,n){return""+(n?[n.id,t].join("."):t)},Sn=function(e){return e};function pt(e){var t=e.initialState,n=t===void 0?xn:t,r=e.defaultColumn,s=r===void 0?wn:r,o=e.getSubRows,i=o===void 0?Rn:o,f=e.getRowId,p=f===void 0?Cn:f,g=e.stateReducer,b=g===void 0?bn:g,y=e.useControlledState,x=y===void 0?Sn:y;return c({},re(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:s,getSubRows:i,getRowId:p,stateReducer:b,useControlledState:x})}function gt(e,t){t===void 0&&(t=0);var n=0,r=0,s=0,o=0;return e.forEach(function(i){var f=i.headers;if(i.totalLeft=t,f&&f.length){var p=gt(f,t),g=p[0],b=p[1],y=p[2],x=p[3];i.totalMinWidth=g,i.totalWidth=b,i.totalMaxWidth=y,i.totalFlexWidth=x}else i.totalMinWidth=i.minWidth,i.totalWidth=Math.min(Math.max(i.minWidth,i.width),i.maxWidth),i.totalMaxWidth=i.maxWidth,i.totalFlexWidth=i.canResize?i.totalWidth:0;i.isVisible&&(t+=i.totalWidth,n+=i.totalMinWidth,r+=i.totalWidth,s+=i.totalMaxWidth,o+=i.totalFlexWidth)}),[n,r,s,o]}function _n(e){var t=e.data,n=e.rows,r=e.flatRows,s=e.rowsById,o=e.column,i=e.getRowId,f=e.getSubRows,p=e.accessValueHooks,g=e.getInstance;t.forEach(function(b,y){return function x(m,w,C,S,j){C===void 0&&(C=0);var H=m,P=i(m,w,S),R=s[P];if(R)R.subRows&&R.originalSubRows.forEach(function(_,F){return x(_,F,C+1,R)});else if((R={id:P,original:H,index:w,depth:C,cells:[{}]}).cells.map=He,R.cells.filter=He,R.cells.forEach=He,R.cells[0].getCellProps=He,R.values={},j.push(R),r.push(R),s[P]=R,R.originalSubRows=f(m,w),R.originalSubRows){var G=[];R.originalSubRows.forEach(function(_,F){return x(_,F,C+1,R,G)}),R.subRows=G}o.accessor&&(R.values[o.id]=o.accessor(m,w,R,j,t)),R.values[o.id]=te(p,R.values[o.id],{row:R,column:o,instance:g()})}(b,y,0,void 0,n)})}a.resetExpanded="resetExpanded",a.toggleRowExpanded="toggleRowExpanded",a.toggleAllRowsExpanded="toggleAllRowsExpanded";var ht=function(e){e.getToggleAllRowsExpandedProps=[Pn],e.getToggleRowExpandedProps=[jn],e.stateReducers.push(In),e.useInstance.push(En),e.prepareRow.push(Bn)};ht.pluginName="useExpanded";var Pn=function(e,t){var n=t.instance;return[e,{onClick:function(r){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},jn=function(e,t){var n=t.row;return[e,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function In(e,t,n,r){if(t.type===a.init)return c({expanded:{}},e);if(t.type===a.resetExpanded)return c({},e,{expanded:r.initialState.expanded||{}});if(t.type===a.toggleAllRowsExpanded){var s=t.value,o=r.rowsById,i=Object.keys(o).length===Object.keys(e.expanded).length;if(s!==void 0?s:!i){var f={};return Object.keys(o).forEach(function(w){f[w]=!0}),c({},e,{expanded:f})}return c({},e,{expanded:{}})}if(t.type===a.toggleRowExpanded){var p,g=t.id,b=t.value,y=e.expanded[g],x=b!==void 0?b:!y;if(!y&&x)return c({},e,{expanded:c({},e.expanded,(p={},p[g]=!0,p))});if(y&&!x){var m=e.expanded;return m[g],c({},e,{expanded:re(m,[g].map(B))})}return e}}function En(e){var t=e.data,n=e.rows,r=e.rowsById,s=e.manualExpandedKey,o=s===void 0?"expanded":s,i=e.paginateExpandedRows,f=i===void 0||i,p=e.expandSubRows,g=p===void 0||p,b=e.autoResetExpanded,y=b===void 0||b,x=e.getHooks,m=e.plugins,w=e.state.expanded,C=e.dispatch;ue(m,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var S=M(y),j=!!(Object.keys(r).length&&Object.keys(w).length);j&&Object.keys(r).some(function(O){return!w[O]})&&(j=!1),X(function(){S()&&C({type:a.resetExpanded})},[C,t]);var H=h.useCallback(function(O,k){C({type:a.toggleRowExpanded,id:O,value:k})},[C]),P=h.useCallback(function(O){return C({type:a.toggleAllRowsExpanded,value:O})},[C]),R=h.useMemo(function(){return f?Ne(n,{manualExpandedKey:o,expanded:w,expandSubRows:g}):n},[f,n,o,w,g]),G=h.useMemo(function(){return function(O){var k=0;return Object.keys(O).forEach(function(A){var Y=A.split(".");k=Math.max(k,Y.length)}),k}(w)},[w]),_=M(e),F=U(x().getToggleAllRowsExpandedProps,{instance:_()});Object.assign(e,{preExpandedRows:n,expandedRows:R,rows:R,expandedDepth:G,isAllRowsExpanded:j,toggleRowExpanded:H,toggleAllRowsExpanded:P,getToggleAllRowsExpandedProps:F})}function Bn(e,t){var n=t.instance.getHooks,r=t.instance;e.toggleRowExpanded=function(s){return r.toggleRowExpanded(e.id,s)},e.getToggleRowExpandedProps=U(n().getToggleRowExpandedProps,{instance:r,row:e})}var mt=function(e,t,n){return e=e.filter(function(r){return t.some(function(s){var o=r.values[s];return String(o).toLowerCase().includes(String(n).toLowerCase())})})};mt.autoRemove=function(e){return!e};var vt=function(e,t,n){return e.filter(function(r){return t.some(function(s){var o=r.values[s];return o===void 0||String(o).toLowerCase()===String(n).toLowerCase()})})};vt.autoRemove=function(e){return!e};var yt=function(e,t,n){return e.filter(function(r){return t.some(function(s){var o=r.values[s];return o===void 0||String(o)===String(n)})})};yt.autoRemove=function(e){return!e};var xt=function(e,t,n){return e.filter(function(r){return t.some(function(s){return r.values[s].includes(n)})})};xt.autoRemove=function(e){return!e||!e.length};var wt=function(e,t,n){return e.filter(function(r){return t.some(function(s){var o=r.values[s];return o&&o.length&&n.every(function(i){return o.includes(i)})})})};wt.autoRemove=function(e){return!e||!e.length};var bt=function(e,t,n){return e.filter(function(r){return t.some(function(s){var o=r.values[s];return o&&o.length&&n.some(function(i){return o.includes(i)})})})};bt.autoRemove=function(e){return!e||!e.length};var Rt=function(e,t,n){return e.filter(function(r){return t.some(function(s){var o=r.values[s];return n.includes(o)})})};Rt.autoRemove=function(e){return!e||!e.length};var Ct=function(e,t,n){return e.filter(function(r){return t.some(function(s){return r.values[s]===n})})};Ct.autoRemove=function(e){return e===void 0};var St=function(e,t,n){return e.filter(function(r){return t.some(function(s){return r.values[s]==n})})};St.autoRemove=function(e){return e==null};var _t=function(e,t,n){var r=n||[],s=r[0],o=r[1];if((s=typeof s=="number"?s:-1/0)>(o=typeof o=="number"?o:1/0)){var i=s;s=o,o=i}return e.filter(function(f){return t.some(function(p){var g=f.values[p];return g>=s&&g<=o})})};_t.autoRemove=function(e){return!e||typeof e[0]!="number"&&typeof e[1]!="number"};var We=Object.freeze({__proto__:null,text:mt,exactText:vt,exactTextCase:yt,includes:xt,includesAll:wt,includesSome:bt,includesValue:Rt,exact:Ct,equals:St,between:_t});a.resetFilters="resetFilters",a.setFilter="setFilter",a.setAllFilters="setAllFilters";var Pt=function(e){e.stateReducers.push(kn),e.useInstance.push(Nn)};function kn(e,t,n,r){if(t.type===a.init)return c({filters:[]},e);if(t.type===a.resetFilters)return c({},e,{filters:r.initialState.filters||[]});if(t.type===a.setFilter){var s=t.columnId,o=t.filterValue,i=r.allColumns,f=r.filterTypes,p=i.find(function(C){return C.id===s});if(!p)throw new Error("React-Table: Could not find a column with id: "+s);var g=Ae(p.filter,f||{},We),b=e.filters.find(function(C){return C.id===s}),y=oe(o,b&&b.value);return Oe(g.autoRemove,y,p)?c({},e,{filters:e.filters.filter(function(C){return C.id!==s})}):c({},e,b?{filters:e.filters.map(function(C){return C.id===s?{id:s,value:y}:C})}:{filters:[].concat(e.filters,[{id:s,value:y}])})}if(t.type===a.setAllFilters){var x=t.filters,m=r.allColumns,w=r.filterTypes;return c({},e,{filters:oe(x,e.filters).filter(function(C){var S=m.find(function(j){return j.id===C.id});return!Oe(Ae(S.filter,w||{},We).autoRemove,C.value,S)})})}}function Nn(e){var t=e.data,n=e.rows,r=e.flatRows,s=e.rowsById,o=e.allColumns,i=e.filterTypes,f=e.manualFilters,p=e.defaultCanFilter,g=p!==void 0&&p,b=e.disableFilters,y=e.state.filters,x=e.dispatch,m=e.autoResetFilters,w=m===void 0||m,C=h.useCallback(function(_,F){x({type:a.setFilter,columnId:_,filterValue:F})},[x]),S=h.useCallback(function(_){x({type:a.setAllFilters,filters:_})},[x]);o.forEach(function(_){var F=_.id,O=_.accessor,k=_.defaultCanFilter,A=_.disableFilters;_.canFilter=O?de(A!==!0&&void 0,b!==!0&&void 0,!0):de(k,g,!1),_.setFilter=function(T){return C(_.id,T)};var Y=y.find(function(T){return T.id===F});_.filterValue=Y&&Y.value});var j=h.useMemo(function(){if(f||!y.length)return[n,r,s];var _=[],F={};return[function O(k,A){A===void 0&&(A=0);var Y=k;return(Y=y.reduce(function(T,V){var L=V.id,D=V.value,I=o.find(function(ne){return ne.id===L});if(!I)return T;A===0&&(I.preFilteredRows=T);var W=Ae(I.filter,i||{},We);return W?(I.filteredRows=W(T,[L],D),I.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+I.id+"."),T)},k)).forEach(function(T){_.push(T),F[T.id]=T,T.subRows&&(T.subRows=T.subRows&&T.subRows.length>0?O(T.subRows,A+1):T.subRows)}),Y}(n),_,F]},[f,y,n,r,s,o,i]),H=j[0],P=j[1],R=j[2];h.useMemo(function(){o.filter(function(_){return!y.find(function(F){return F.id===_.id})}).forEach(function(_){_.preFilteredRows=H,_.filteredRows=H})},[H,y,o]);var G=M(w);X(function(){G()&&x({type:a.resetFilters})},[x,f?null:t]),Object.assign(e,{preFilteredRows:n,preFilteredFlatRows:r,preFilteredRowsById:s,filteredRows:H,filteredFlatRows:P,filteredRowsById:R,rows:H,flatRows:P,rowsById:R,setFilter:C,setAllFilters:S})}Pt.pluginName="useFilters",a.resetGlobalFilter="resetGlobalFilter",a.setGlobalFilter="setGlobalFilter";var jt=function(e){e.stateReducers.push(An),e.useInstance.push(Fn)};function An(e,t,n,r){if(t.type===a.resetGlobalFilter)return c({},e,{globalFilter:r.initialState.globalFilter||void 0});if(t.type===a.setGlobalFilter){var s=t.filterValue,o=r.userFilterTypes,i=Ae(r.globalFilter,o||{},We),f=oe(s,e.globalFilter);return Oe(i.autoRemove,f)?(e.globalFilter,re(e,["globalFilter"])):c({},e,{globalFilter:f})}}function Fn(e){var t=e.data,n=e.rows,r=e.flatRows,s=e.rowsById,o=e.allColumns,i=e.filterTypes,f=e.globalFilter,p=e.manualGlobalFilter,g=e.state.globalFilter,b=e.dispatch,y=e.autoResetGlobalFilter,x=y===void 0||y,m=e.disableGlobalFilter,w=h.useCallback(function(R){b({type:a.setGlobalFilter,filterValue:R})},[b]),C=h.useMemo(function(){if(p||g===void 0)return[n,r,s];var R=[],G={},_=Ae(f,i||{},We);if(!_)return console.warn("Could not find a valid 'globalFilter' option."),n;o.forEach(function(O){var k=O.disableGlobalFilter;O.canFilter=de(k!==!0&&void 0,m!==!0&&void 0,!0)});var F=o.filter(function(O){return O.canFilter===!0});return[function O(k){return(k=_(k,F.map(function(A){return A.id}),g)).forEach(function(A){R.push(A),G[A.id]=A,A.subRows=A.subRows&&A.subRows.length?O(A.subRows):A.subRows}),k}(n),R,G]},[p,g,f,i,o,n,r,s,m]),S=C[0],j=C[1],H=C[2],P=M(x);X(function(){P()&&b({type:a.resetGlobalFilter})},[b,p?null:t]),Object.assign(e,{preGlobalFilteredRows:n,preGlobalFilteredFlatRows:r,preGlobalFilteredRowsById:s,globalFilteredRows:S,globalFilteredFlatRows:j,globalFilteredRowsById:H,rows:S,flatRows:j,rowsById:H,setGlobalFilter:w,disableGlobalFilter:m})}function It(e,t){return t.reduce(function(n,r){return n+(typeof r=="number"?r:0)},0)}jt.pluginName="useGlobalFilter";var Et=Object.freeze({__proto__:null,sum:It,min:function(e){var t=e[0]||0;return e.forEach(function(n){typeof n=="number"&&(t=Math.min(t,n))}),t},max:function(e){var t=e[0]||0;return e.forEach(function(n){typeof n=="number"&&(t=Math.max(t,n))}),t},minMax:function(e){var t=e[0]||0,n=e[0]||0;return e.forEach(function(r){typeof r=="number"&&(t=Math.min(t,r),n=Math.max(n,r))}),t+".."+n},average:function(e){return It(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),n=[].concat(e).sort(function(r,s){return r-s});return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),Tn=[],Gn={};a.resetGroupBy="resetGroupBy",a.setGroupBy="setGroupBy",a.toggleGroupBy="toggleGroupBy";var Bt=function(e){e.getGroupByToggleProps=[Hn],e.stateReducers.push(zn),e.visibleColumnsDeps.push(function(t,n){var r=n.instance;return[].concat(t,[r.state.groupBy])}),e.visibleColumns.push(On),e.useInstance.push(Mn),e.prepareRow.push(Ln)};Bt.pluginName="useGroupBy";var Hn=function(e,t){var n=t.header;return[e,{onClick:n.canGroupBy?function(r){r.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function zn(e,t,n,r){if(t.type===a.init)return c({groupBy:[]},e);if(t.type===a.resetGroupBy)return c({},e,{groupBy:r.initialState.groupBy||[]});if(t.type===a.setGroupBy)return c({},e,{groupBy:t.value});if(t.type===a.toggleGroupBy){var s=t.columnId,o=t.value,i=o!==void 0?o:!e.groupBy.includes(s);return c({},e,i?{groupBy:[].concat(e.groupBy,[s])}:{groupBy:e.groupBy.filter(function(f){return f!==s})})}}function On(e,t){var n=t.instance.state.groupBy,r=n.map(function(o){return e.find(function(i){return i.id===o})}).filter(Boolean),s=e.filter(function(o){return!n.includes(o.id)});return(e=[].concat(r,s)).forEach(function(o){o.isGrouped=n.includes(o.id),o.groupedIndex=n.indexOf(o.id)}),e}var Wn={};function Mn(e){var t=e.data,n=e.rows,r=e.flatRows,s=e.rowsById,o=e.allColumns,i=e.flatHeaders,f=e.groupByFn,p=f===void 0?kt:f,g=e.manualGroupBy,b=e.aggregations,y=b===void 0?Wn:b,x=e.plugins,m=e.state.groupBy,w=e.dispatch,C=e.autoResetGroupBy,S=C===void 0||C,j=e.disableGroupBy,H=e.defaultCanGroupBy,P=e.getHooks;ue(x,["useColumnOrder","useFilters"],"useGroupBy");var R=M(e);o.forEach(function(I){var W=I.accessor,ne=I.defaultGroupBy,ve=I.disableGroupBy;I.canGroupBy=W?de(I.canGroupBy,ve!==!0&&void 0,j!==!0&&void 0,!0):de(I.canGroupBy,ne,H,!1),I.canGroupBy&&(I.toggleGroupBy=function(){return e.toggleGroupBy(I.id)}),I.Aggregated=I.Aggregated||I.Cell});var G=h.useCallback(function(I,W){w({type:a.toggleGroupBy,columnId:I,value:W})},[w]),_=h.useCallback(function(I){w({type:a.setGroupBy,value:I})},[w]);i.forEach(function(I){I.getGroupByToggleProps=U(P().getGroupByToggleProps,{instance:R(),header:I})});var F=h.useMemo(function(){if(g||!m.length)return[n,r,s,Tn,Gn,r,s];var I=m.filter(function(pe){return o.find(function(Be){return Be.id===pe})}),W=[],ne={},ve=[],N={},ee=[],ie={},ye=function pe(Be,Ee,qt){if(Ee===void 0&&(Ee=0),Ee===I.length)return Be.map(function(Ue){return c({},Ue,{depth:Ee})});var ot=I[Ee],Br=p(Be,ot);return Object.entries(Br).map(function(Ue,kr){var Kt=Ue[0],Xe=Ue[1],$e=ot+":"+Kt,Jt=pe(Xe,Ee+1,$e=qt?qt+">"+$e:$e),Qt=Ee?ke(Xe,"leafRows"):Xe,Nr=function(be,st,Fr){var De={};return o.forEach(function(ae){if(I.includes(ae.id))De[ae.id]=st[0]?st[0].values[ae.id]:null;else{var Zt=typeof ae.aggregate=="function"?ae.aggregate:y[ae.aggregate]||Et[ae.aggregate];if(Zt){var Tr=st.map(function(qe){return qe.values[ae.id]}),Gr=be.map(function(qe){var it=qe.values[ae.id];if(!Fr&&ae.aggregateValue){var en=typeof ae.aggregateValue=="function"?ae.aggregateValue:y[ae.aggregateValue]||Et[ae.aggregateValue];if(!en)throw console.info({column:ae}),new Error("React Table: Invalid column.aggregateValue option for column listed above");it=en(it,qe,ae)}return it});De[ae.id]=Zt(Gr,Tr)}else{if(ae.aggregate)throw console.info({column:ae}),new Error("React Table: Invalid column.aggregate option for column listed above");De[ae.id]=null}}}),De}(Qt,Xe,Ee),Ar={id:$e,isGrouped:!0,groupByID:ot,groupByVal:Kt,values:Nr,subRows:Jt,leafRows:Qt,depth:Ee,index:kr};return Jt.forEach(function(be){W.push(be),ne[be.id]=be,be.isGrouped?(ve.push(be),N[be.id]=be):(ee.push(be),ie[be.id]=be)}),Ar})}(n);return ye.forEach(function(pe){W.push(pe),ne[pe.id]=pe,pe.isGrouped?(ve.push(pe),N[pe.id]=pe):(ee.push(pe),ie[pe.id]=pe)}),[ye,W,ne,ve,N,ee,ie]},[g,m,n,r,s,o,y,p]),O=F[0],k=F[1],A=F[2],Y=F[3],T=F[4],V=F[5],L=F[6],D=M(S);X(function(){D()&&w({type:a.resetGroupBy})},[w,g?null:t]),Object.assign(e,{preGroupedRows:n,preGroupedFlatRow:r,preGroupedRowsById:s,groupedRows:O,groupedFlatRows:k,groupedRowsById:A,onlyGroupedFlatRows:Y,onlyGroupedRowsById:T,nonGroupedFlatRows:V,nonGroupedRowsById:L,rows:O,flatRows:k,rowsById:A,toggleGroupBy:G,setGroupBy:_})}function Ln(e){e.allCells.forEach(function(t){var n;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&((n=e.subRows)==null?void 0:n.length)})}function kt(e,t){return e.reduce(function(n,r,s){var o=""+r.values[t];return n[o]=Array.isArray(n[o])?n[o]:[],n[o].push(r),n},{})}var Nt=/([0-9]+)/gm;function Qe(e,t){return e===t?0:e>t?1:-1}function Me(e,t,n){return[e.values[n],t.values[n]]}function At(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}var Vn=Object.freeze({__proto__:null,alphanumeric:function(e,t,n){var r=Me(e,t,n),s=r[0],o=r[1];for(s=At(s),o=At(o),s=s.split(Nt).filter(Boolean),o=o.split(Nt).filter(Boolean);s.length&&o.length;){var i=s.shift(),f=o.shift(),p=parseInt(i,10),g=parseInt(f,10),b=[p,g].sort();if(isNaN(b[0])){if(i>f)return 1;if(f>i)return-1}else{if(isNaN(b[1]))return isNaN(p)?-1:1;if(p>g)return 1;if(g>p)return-1}}return s.length-o.length},datetime:function(e,t,n){var r=Me(e,t,n),s=r[0],o=r[1];return Qe(s=s.getTime(),o=o.getTime())},basic:function(e,t,n){var r=Me(e,t,n);return Qe(r[0],r[1])},string:function(e,t,n){var r=Me(e,t,n),s=r[0],o=r[1];for(s=s.split("").filter(Boolean),o=o.split("").filter(Boolean);s.length&&o.length;){var i=s.shift(),f=o.shift(),p=i.toLowerCase(),g=f.toLowerCase();if(p>g)return 1;if(g>p)return-1;if(i>f)return 1;if(f>i)return-1}return s.length-o.length},number:function(e,t,n){var r=Me(e,t,n),s=r[0],o=r[1],i=/[^0-9.]/gi;return Qe(s=Number(String(s).replace(i,"")),o=Number(String(o).replace(i,"")))}});a.resetSortBy="resetSortBy",a.setSortBy="setSortBy",a.toggleSortBy="toggleSortBy",a.clearSortBy="clearSortBy",K.sortType="alphanumeric",K.sortDescFirst=!1;var Ft=function(e){e.getSortByToggleProps=[Yn],e.stateReducers.push(Un),e.useInstance.push(Xn)};Ft.pluginName="useSortBy";var Yn=function(e,t){var n=t.instance,r=t.column,s=n.isMultiSortEvent,o=s===void 0?function(i){return i.shiftKey}:s;return[e,{onClick:r.canSort?function(i){i.persist(),r.toggleSortBy(void 0,!n.disableMultiSort&&o(i))}:void 0,style:{cursor:r.canSort?"pointer":void 0},title:r.canSort?"Toggle SortBy":void 0}]};function Un(e,t,n,r){if(t.type===a.init)return c({sortBy:[]},e);if(t.type===a.resetSortBy)return c({},e,{sortBy:r.initialState.sortBy||[]});if(t.type===a.clearSortBy)return c({},e,{sortBy:e.sortBy.filter(function(R){return R.id!==t.columnId})});if(t.type===a.setSortBy)return c({},e,{sortBy:t.sortBy});if(t.type===a.toggleSortBy){var s,o=t.columnId,i=t.desc,f=t.multi,p=r.allColumns,g=r.disableMultiSort,b=r.disableSortRemove,y=r.disableMultiRemove,x=r.maxMultiSortColCount,m=x===void 0?Number.MAX_SAFE_INTEGER:x,w=e.sortBy,C=p.find(function(R){return R.id===o}).sortDescFirst,S=w.find(function(R){return R.id===o}),j=w.findIndex(function(R){return R.id===o}),H=i!=null,P=[];return(s=!g&&f?S?"toggle":"add":j!==w.length-1||w.length!==1?"replace":S?"toggle":"replace")!="toggle"||b||H||f&&y||!(S&&S.desc&&!C||!S.desc&&C)||(s="remove"),s==="replace"?P=[{id:o,desc:H?i:C}]:s==="add"?(P=[].concat(w,[{id:o,desc:H?i:C}])).splice(0,P.length-m):s==="toggle"?P=w.map(function(R){return R.id===o?c({},R,{desc:H?i:!S.desc}):R}):s==="remove"&&(P=w.filter(function(R){return R.id!==o})),c({},e,{sortBy:P})}}function Xn(e){var t=e.data,n=e.rows,r=e.flatRows,s=e.allColumns,o=e.orderByFn,i=o===void 0?Tt:o,f=e.sortTypes,p=e.manualSortBy,g=e.defaultCanSort,b=e.disableSortBy,y=e.flatHeaders,x=e.state.sortBy,m=e.dispatch,w=e.plugins,C=e.getHooks,S=e.autoResetSortBy,j=S===void 0||S;ue(w,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var H=h.useCallback(function(k){m({type:a.setSortBy,sortBy:k})},[m]),P=h.useCallback(function(k,A,Y){m({type:a.toggleSortBy,columnId:k,desc:A,multi:Y})},[m]),R=M(e);y.forEach(function(k){var A=k.accessor,Y=k.canSort,T=k.disableSortBy,V=k.id,L=A?de(T!==!0&&void 0,b!==!0&&void 0,!0):de(g,Y,!1);k.canSort=L,k.canSort&&(k.toggleSortBy=function(I,W){return P(k.id,I,W)},k.clearSortBy=function(){m({type:a.clearSortBy,columnId:k.id})}),k.getSortByToggleProps=U(C().getSortByToggleProps,{instance:R(),column:k});var D=x.find(function(I){return I.id===V});k.isSorted=!!D,k.sortedIndex=x.findIndex(function(I){return I.id===V}),k.isSortedDesc=k.isSorted?D.desc:void 0});var G=h.useMemo(function(){if(p||!x.length)return[n,r];var k=[],A=x.filter(function(Y){return s.find(function(T){return T.id===Y.id})});return[function Y(T){var V=i(T,A.map(function(L){var D=s.find(function(ne){return ne.id===L.id});if(!D)throw new Error("React-Table: Could not find a column with id: "+L.id+" while sorting");var I=D.sortType,W=we(I)||(f||{})[I]||Vn[I];if(!W)throw new Error("React-Table: Could not find a valid sortType of '"+I+"' for column '"+L.id+"'.");return function(ne,ve){return W(ne,ve,L.id,L.desc)}}),A.map(function(L){var D=s.find(function(I){return I.id===L.id});return D&&D.sortInverted?L.desc:!L.desc}));return V.forEach(function(L){k.push(L),L.subRows&&L.subRows.length!==0&&(L.subRows=Y(L.subRows))}),V}(n),k]},[p,x,n,r,s,i,f]),_=G[0],F=G[1],O=M(j);X(function(){O()&&m({type:a.resetSortBy})},[p?null:t]),Object.assign(e,{preSortedRows:n,preSortedFlatRows:r,sortedRows:_,sortedFlatRows:F,rows:_,flatRows:F,setSortBy:H,toggleSortBy:P})}function Tt(e,t,n){return[].concat(e).sort(function(r,s){for(var o=0;o<t.length;o+=1){var i=t[o],f=n[o]===!1||n[o]==="desc",p=i(r,s);if(p!==0)return f?-p:p}return n[0]?r.index-s.index:s.index-r.index})}a.resetPage="resetPage",a.gotoPage="gotoPage",a.setPageSize="setPageSize";var Gt=function(e){e.stateReducers.push($n),e.useInstance.push(Dn)};function $n(e,t,n,r){if(t.type===a.init)return c({pageSize:10,pageIndex:0},e);if(t.type===a.resetPage)return c({},e,{pageIndex:r.initialState.pageIndex||0});if(t.type===a.gotoPage){var s=r.pageCount,o=r.page,i=oe(t.pageIndex,e.pageIndex),f=!1;return i>e.pageIndex?f=s===-1?o.length>=e.pageSize:i<s:i<e.pageIndex&&(f=i>-1),f?c({},e,{pageIndex:i}):e}if(t.type===a.setPageSize){var p=t.pageSize,g=e.pageSize*e.pageIndex;return c({},e,{pageIndex:Math.floor(g/p),pageSize:p})}}function Dn(e){var t=e.rows,n=e.autoResetPage,r=n===void 0||n,s=e.manualExpandedKey,o=s===void 0?"expanded":s,i=e.plugins,f=e.pageCount,p=e.paginateExpandedRows,g=p===void 0||p,b=e.expandSubRows,y=b===void 0||b,x=e.state,m=x.pageSize,w=x.pageIndex,C=x.expanded,S=x.globalFilter,j=x.filters,H=x.groupBy,P=x.sortBy,R=e.dispatch,G=e.data,_=e.manualPagination;ue(i,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var F=M(r);X(function(){F()&&R({type:a.resetPage})},[R,_?null:G,S,j,H,P]);var O=_?f:Math.ceil(t.length/m),k=h.useMemo(function(){return O>0?[].concat(new Array(O)).fill(null).map(function(W,ne){return ne}):[]},[O]),A=h.useMemo(function(){var W;if(_)W=t;else{var ne=m*w,ve=ne+m;W=t.slice(ne,ve)}return g?W:Ne(W,{manualExpandedKey:o,expanded:C,expandSubRows:y})},[y,C,o,_,w,m,g,t]),Y=w>0,T=O===-1?A.length>=m:w<O-1,V=h.useCallback(function(W){R({type:a.gotoPage,pageIndex:W})},[R]),L=h.useCallback(function(){return V(function(W){return W-1})},[V]),D=h.useCallback(function(){return V(function(W){return W+1})},[V]),I=h.useCallback(function(W){R({type:a.setPageSize,pageSize:W})},[R]);Object.assign(e,{pageOptions:k,pageCount:O,page:A,canPreviousPage:Y,canNextPage:T,gotoPage:V,previousPage:L,nextPage:D,setPageSize:I})}Gt.pluginName="usePagination",a.resetPivot="resetPivot",a.togglePivot="togglePivot";var Ht=function(e){e.getPivotToggleProps=[qn],e.stateReducers.push(Kn),e.useInstanceAfterData.push(Jn),e.allColumns.push(Qn),e.accessValue.push(Zn),e.materializedColumns.push(er),e.materializedColumnsDeps.push(tr),e.visibleColumns.push(nr),e.visibleColumnsDeps.push(rr),e.useInstance.push(or),e.prepareRow.push(sr)};Ht.pluginName="usePivotColumns";var zt=[],qn=function(e,t){var n=t.header;return[e,{onClick:n.canPivot?function(r){r.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function Kn(e,t,n,r){if(t.type===a.init)return c({pivotColumns:zt},e);if(t.type===a.resetPivot)return c({},e,{pivotColumns:r.initialState.pivotColumns||zt});if(t.type===a.togglePivot){var s=t.columnId,o=t.value,i=o!==void 0?o:!e.pivotColumns.includes(s);return c({},e,i?{pivotColumns:[].concat(e.pivotColumns,[s])}:{pivotColumns:e.pivotColumns.filter(function(f){return f!==s})})}}function Jn(e){e.allColumns.forEach(function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)})}function Qn(e,t){var n=t.instance;return e.forEach(function(r){r.isPivotSource=n.state.pivotColumns.includes(r.id),r.uniqueValues=new Set}),e}function Zn(e,t){var n=t.column;return n.uniqueValues&&e!==void 0&&n.uniqueValues.add(e),e}function er(e,t){var n=t.instance,r=n.allColumns,s=n.state;if(!s.pivotColumns.length||!s.groupBy||!s.groupBy.length)return e;var o=s.pivotColumns.map(function(p){return r.find(function(g){return g.id===p})}).filter(Boolean),i=r.filter(function(p){return!p.isPivotSource&&!s.groupBy.includes(p.id)&&!s.pivotColumns.includes(p.id)}),f=_e(function p(g,b,y){g===void 0&&(g=0),y===void 0&&(y=[]);var x=o[g];return x?Array.from(x.uniqueValues).sort().map(function(m){var w=c({},x,{Header:x.PivotHeader||typeof x.header=="string"?x.Header+": "+m:m,isPivotGroup:!0,parent:b,depth:g,id:b?b.id+"."+x.id+"."+m:x.id+"."+m,pivotValue:m});return w.columns=p(g+1,w,[].concat(y,[function(C){return C.values[x.id]===m}])),w}):i.map(function(m){return c({},m,{canPivot:!1,isPivoted:!0,parent:b,depth:g,id:""+(b?b.id+"."+m.id:m.id),accessor:function(w,C,S){if(y.every(function(j){return j(S)}))return S.values[m.id]}})})}());return[].concat(e,f)}function tr(e,t){var n=t.instance.state,r=n.pivotColumns,s=n.groupBy;return[].concat(e,[r,s])}function nr(e,t){var n=t.instance.state;return e=e.filter(function(r){return!r.isPivotSource}),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(e=e.filter(function(r){return r.isGrouped||r.isPivoted})),e}function rr(e,t){var n=t.instance;return[].concat(e,[n.state.pivotColumns,n.state.groupBy])}function or(e){var t=e.columns,n=e.allColumns,r=e.flatHeaders,s=e.getHooks,o=e.plugins,i=e.dispatch,f=e.autoResetPivot,p=f===void 0||f,g=e.manaulPivot,b=e.disablePivot,y=e.defaultCanPivot;ue(o,["useGroupBy"],"usePivotColumns");var x=M(e);n.forEach(function(w){var C=w.accessor,S=w.defaultPivot,j=w.disablePivot;w.canPivot=C?de(w.canPivot,j!==!0&&void 0,b!==!0&&void 0,!0):de(w.canPivot,S,y,!1),w.canPivot&&(w.togglePivot=function(){return e.togglePivot(w.id)}),w.Aggregated=w.Aggregated||w.Cell}),r.forEach(function(w){w.getPivotToggleProps=U(s().getPivotToggleProps,{instance:x(),header:w})});var m=M(p);X(function(){m()&&i({type:a.resetPivot})},[i,g?null:t]),Object.assign(e,{togglePivot:function(w,C){i({type:a.togglePivot,columnId:w,value:C})}})}function sr(e){e.allCells.forEach(function(t){t.isPivoted=t.column.isPivoted})}a.resetSelectedRows="resetSelectedRows",a.toggleAllRowsSelected="toggleAllRowsSelected",a.toggleRowSelected="toggleRowSelected",a.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var Ot=function(e){e.getToggleRowSelectedProps=[ir],e.getToggleAllRowsSelectedProps=[ar],e.getToggleAllPageRowsSelectedProps=[lr],e.stateReducers.push(ur),e.useInstance.push(cr),e.prepareRow.push(dr)};Ot.pluginName="useRowSelect";var ir=function(e,t){var n=t.instance,r=t.row,s=n.manualRowSelectedKey,o=s===void 0?"isSelected":s;return[e,{onChange:function(i){r.toggleRowSelected(i.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[o])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected}]},ar=function(e,t){var n=t.instance;return[e,{onChange:function(r){n.toggleAllRowsSelected(r.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:!!(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},lr=function(e,t){var n=t.instance;return[e,{onChange:function(r){n.toggleAllPageRowsSelected(r.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:!!(!n.isAllPageRowsSelected&&n.page.some(function(r){var s=r.id;return n.state.selectedRowIds[s]}))}]};function ur(e,t,n,r){if(t.type===a.init)return c({selectedRowIds:{}},e);if(t.type===a.resetSelectedRows)return c({},e,{selectedRowIds:r.initialState.selectedRowIds||{}});if(t.type===a.toggleAllRowsSelected){var s=t.value,o=r.isAllRowsSelected,i=r.rowsById,f=r.nonGroupedRowsById,p=f===void 0?i:f,g=s!==void 0?s:!o,b=Object.assign({},e.selectedRowIds);return g?Object.keys(p).forEach(function(V){b[V]=!0}):Object.keys(p).forEach(function(V){delete b[V]}),c({},e,{selectedRowIds:b})}if(t.type===a.toggleRowSelected){var y=t.id,x=t.value,m=r.rowsById,w=r.selectSubRows,C=w===void 0||w,S=r.getSubRows,j=e.selectedRowIds[y],H=x!==void 0?x:!j;if(j===H)return e;var P=c({},e.selectedRowIds);return function V(L){var D=m[L];if(D&&(D.isGrouped||(H?P[L]=!0:delete P[L]),C&&S(D)))return S(D).forEach(function(I){return V(I.id)})}(y),c({},e,{selectedRowIds:P})}if(t.type===a.toggleAllPageRowsSelected){var R=t.value,G=r.page,_=r.rowsById,F=r.selectSubRows,O=F===void 0||F,k=r.isAllPageRowsSelected,A=r.getSubRows,Y=R!==void 0?R:!k,T=c({},e.selectedRowIds);return G.forEach(function(V){return function L(D){var I=_[D];if(I.isGrouped||(Y?T[D]=!0:delete T[D]),O&&A(I))return A(I).forEach(function(W){return L(W.id)})}(V.id)}),c({},e,{selectedRowIds:T})}return e}function cr(e){var t=e.data,n=e.rows,r=e.getHooks,s=e.plugins,o=e.rowsById,i=e.nonGroupedRowsById,f=i===void 0?o:i,p=e.autoResetSelectedRows,g=p===void 0||p,b=e.state.selectedRowIds,y=e.selectSubRows,x=y===void 0||y,m=e.dispatch,w=e.page,C=e.getSubRows;ue(s,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var S=h.useMemo(function(){var A=[];return n.forEach(function(Y){var T=x?function V(L,D,I){if(D[L.id])return!0;var W=I(L);if(W&&W.length){var ne=!0,ve=!1;return W.forEach(function(N){ve&&!ne||(V(N,D,I)?ve=!0:ne=!1)}),!!ne||!!ve&&null}return!1}(Y,b,C):!!b[Y.id];Y.isSelected=!!T,Y.isSomeSelected=T===null,T&&A.push(Y)}),A},[n,x,b,C]),j=!!(Object.keys(f).length&&Object.keys(b).length),H=j;j&&Object.keys(f).some(function(A){return!b[A]})&&(j=!1),j||w&&w.length&&w.some(function(A){var Y=A.id;return!b[Y]})&&(H=!1);var P=M(g);X(function(){P()&&m({type:a.resetSelectedRows})},[m,t]);var R=h.useCallback(function(A){return m({type:a.toggleAllRowsSelected,value:A})},[m]),G=h.useCallback(function(A){return m({type:a.toggleAllPageRowsSelected,value:A})},[m]),_=h.useCallback(function(A,Y){return m({type:a.toggleRowSelected,id:A,value:Y})},[m]),F=M(e),O=U(r().getToggleAllRowsSelectedProps,{instance:F()}),k=U(r().getToggleAllPageRowsSelectedProps,{instance:F()});Object.assign(e,{selectedFlatRows:S,isAllRowsSelected:j,isAllPageRowsSelected:H,toggleRowSelected:_,toggleAllRowsSelected:R,getToggleAllRowsSelectedProps:O,getToggleAllPageRowsSelectedProps:k,toggleAllPageRowsSelected:G})}function dr(e,t){var n=t.instance;e.toggleRowSelected=function(r){return n.toggleRowSelected(e.id,r)},e.getToggleRowSelectedProps=U(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}var Wt=function(e){return{}},Mt=function(e){return{}};a.setRowState="setRowState",a.setCellState="setCellState",a.resetRowState="resetRowState";var Lt=function(e){e.stateReducers.push(fr),e.useInstance.push(pr),e.prepareRow.push(gr)};function fr(e,t,n,r){var s=r.initialRowStateAccessor,o=s===void 0?Wt:s,i=r.initialCellStateAccessor,f=i===void 0?Mt:i,p=r.rowsById;if(t.type===a.init)return c({rowState:{}},e);if(t.type===a.resetRowState)return c({},e,{rowState:r.initialState.rowState||{}});if(t.type===a.setRowState){var g,b=t.rowId,y=t.value,x=e.rowState[b]!==void 0?e.rowState[b]:o(p[b]);return c({},e,{rowState:c({},e.rowState,(g={},g[b]=oe(y,x),g))})}if(t.type===a.setCellState){var m,w,C,S,j,H=t.rowId,P=t.columnId,R=t.value,G=e.rowState[H]!==void 0?e.rowState[H]:o(p[H]),_=(G==null||(m=G.cellState)==null?void 0:m[P])!==void 0?G.cellState[P]:f((w=p[H])==null||(C=w.cells)==null?void 0:C.find(function(F){return F.column.id===P}));return c({},e,{rowState:c({},e.rowState,(j={},j[H]=c({},G,{cellState:c({},G.cellState||{},(S={},S[P]=oe(R,_),S))}),j))})}}function pr(e){var t=e.autoResetRowState,n=t===void 0||t,r=e.data,s=e.dispatch,o=h.useCallback(function(p,g){return s({type:a.setRowState,rowId:p,value:g})},[s]),i=h.useCallback(function(p,g,b){return s({type:a.setCellState,rowId:p,columnId:g,value:b})},[s]),f=M(n);X(function(){f()&&s({type:a.resetRowState})},[r]),Object.assign(e,{setRowState:o,setCellState:i})}function gr(e,t){var n=t.instance,r=n.initialRowStateAccessor,s=r===void 0?Wt:r,o=n.initialCellStateAccessor,i=o===void 0?Mt:o,f=n.state.rowState;e&&(e.state=f[e.id]!==void 0?f[e.id]:s(e),e.setState=function(p){return n.setRowState(e.id,p)},e.cells.forEach(function(p){e.state.cellState||(e.state.cellState={}),p.state=e.state.cellState[p.column.id]!==void 0?e.state.cellState[p.column.id]:i(p),p.setState=function(g){return n.setCellState(e.id,p.column.id,g)}}))}Lt.pluginName="useRowState",a.resetColumnOrder="resetColumnOrder",a.setColumnOrder="setColumnOrder";var Vt=function(e){e.stateReducers.push(hr),e.visibleColumnsDeps.push(function(t,n){var r=n.instance;return[].concat(t,[r.state.columnOrder])}),e.visibleColumns.push(mr),e.useInstance.push(vr)};function hr(e,t,n,r){return t.type===a.init?c({columnOrder:[]},e):t.type===a.resetColumnOrder?c({},e,{columnOrder:r.initialState.columnOrder||[]}):t.type===a.setColumnOrder?c({},e,{columnOrder:oe(t.columnOrder,e.columnOrder)}):void 0}function mr(e,t){var n=t.instance.state.columnOrder;if(!n||!n.length)return e;for(var r=[].concat(n),s=[].concat(e),o=[],i=function(){var f=r.shift(),p=s.findIndex(function(g){return g.id===f});p>-1&&o.push(s.splice(p,1)[0])};s.length&&r.length;)i();return[].concat(o,s)}function vr(e){var t=e.dispatch;e.setColumnOrder=h.useCallback(function(n){return t({type:a.setColumnOrder,columnOrder:n})},[t])}Vt.pluginName="useColumnOrder",K.canResize=!0,a.columnStartResizing="columnStartResizing",a.columnResizing="columnResizing",a.columnDoneResizing="columnDoneResizing",a.resetResize="resetResize";var Yt=function(e){e.getResizerProps=[yr],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(xr),e.useInstance.push(br),e.useInstanceBeforeDimensions.push(wr)},yr=function(e,t){var n=t.instance,r=t.header,s=n.dispatch,o=function(i,f){var p=!1;if(i.type==="touchstart"){if(i.touches&&i.touches.length>1)return;p=!0}var g,b,y=function(P){var R=[];return function G(_){_.columns&&_.columns.length&&_.columns.map(G),R.push(_)}(P),R}(f).map(function(P){return[P.id,P.totalWidth]}),x=p?Math.round(i.touches[0].clientX):i.clientX,m=function(){window.cancelAnimationFrame(g),g=null,s({type:a.columnDoneResizing})},w=function(){window.cancelAnimationFrame(g),g=null,s({type:a.columnResizing,clientX:b})},C=function(P){b=P,g||(g=window.requestAnimationFrame(w))},S={mouse:{moveEvent:"mousemove",moveHandler:function(P){return C(P.clientX)},upEvent:"mouseup",upHandler:function(P){document.removeEventListener("mousemove",S.mouse.moveHandler),document.removeEventListener("mouseup",S.mouse.upHandler),m()}},touch:{moveEvent:"touchmove",moveHandler:function(P){return P.cancelable&&(P.preventDefault(),P.stopPropagation()),C(P.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(P){document.removeEventListener(S.touch.moveEvent,S.touch.moveHandler),document.removeEventListener(S.touch.upEvent,S.touch.moveHandler),m()}}},j=p?S.touch:S.mouse,H=!!function(){if(typeof E=="boolean")return E;var P=!1;try{var R={get passive(){return P=!0,!1}};window.addEventListener("test",null,R),window.removeEventListener("test",null,R)}catch{P=!1}return E=P}()&&{passive:!1};document.addEventListener(j.moveEvent,j.moveHandler,H),document.addEventListener(j.upEvent,j.upHandler,H),s({type:a.columnStartResizing,columnId:f.id,columnWidth:f.totalWidth,headerIdWidths:y,clientX:x})};return[e,{onMouseDown:function(i){return i.persist()||o(i,r)},onTouchStart:function(i){return i.persist()||o(i,r)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function xr(e,t){if(t.type===a.init)return c({columnResizing:{columnWidths:{}}},e);if(t.type===a.resetResize)return c({},e,{columnResizing:{columnWidths:{}}});if(t.type===a.columnStartResizing){var n=t.clientX,r=t.columnId,s=t.columnWidth,o=t.headerIdWidths;return c({},e,{columnResizing:c({},e.columnResizing,{startX:n,headerIdWidths:o,columnWidth:s,isResizingColumn:r})})}if(t.type===a.columnResizing){var i=t.clientX,f=e.columnResizing,p=f.startX,g=f.columnWidth,b=f.headerIdWidths,y=(i-p)/g,x={};return(b===void 0?[]:b).forEach(function(m){var w=m[0],C=m[1];x[w]=Math.max(C+C*y,0)}),c({},e,{columnResizing:c({},e.columnResizing,{columnWidths:c({},e.columnResizing.columnWidths,{},x)})})}return t.type===a.columnDoneResizing?c({},e,{columnResizing:c({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Yt.pluginName="useResizeColumns";var wr=function(e){var t=e.flatHeaders,n=e.disableResizing,r=e.getHooks,s=e.state.columnResizing,o=M(e);t.forEach(function(i){var f=de(i.disableResizing!==!0&&void 0,n!==!0&&void 0,!0);i.canResize=f,i.width=s.columnWidths[i.id]||i.originalWidth||i.width,i.isResizing=s.isResizingColumn===i.id,f&&(i.getResizerProps=U(r().getResizerProps,{instance:o(),header:i}))})};function br(e){var t=e.plugins,n=e.dispatch,r=e.autoResetResize,s=r===void 0||r,o=e.columns;ue(t,["useAbsoluteLayout"],"useResizeColumns");var i=M(s);X(function(){i()&&n({type:a.resetResize})},[o]);var f=h.useCallback(function(){return n({type:a.resetResize})},[n]);Object.assign(e,{resetResizing:f})}var Ze={position:"absolute",top:0},Ut=function(e){e.getTableBodyProps.push(Ye),e.getRowProps.push(Ye),e.getHeaderGroupProps.push(Ye),e.getFooterGroupProps.push(Ye),e.getHeaderProps.push(function(t,n){var r=n.column;return[t,{style:c({},Ze,{left:r.totalLeft+"px",width:r.totalWidth+"px"})}]}),e.getCellProps.push(function(t,n){var r=n.cell;return[t,{style:c({},Ze,{left:r.column.totalLeft+"px",width:r.column.totalWidth+"px"})}]}),e.getFooterProps.push(function(t,n){var r=n.column;return[t,{style:c({},Ze,{left:r.totalLeft+"px",width:r.totalWidth+"px"})}]})};Ut.pluginName="useAbsoluteLayout";var Ye=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},et={display:"inline-block",boxSizing:"border-box"},tt=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},Xt=function(e){e.getRowProps.push(tt),e.getHeaderGroupProps.push(tt),e.getFooterGroupProps.push(tt),e.getHeaderProps.push(function(t,n){var r=n.column;return[t,{style:c({},et,{width:r.totalWidth+"px"})}]}),e.getCellProps.push(function(t,n){var r=n.cell;return[t,{style:c({},et,{width:r.column.totalWidth+"px"})}]}),e.getFooterProps.push(function(t,n){var r=n.column;return[t,{style:c({},et,{width:r.totalWidth+"px"})}]})};function $t(e){e.getTableProps.push(Rr),e.getRowProps.push(nt),e.getHeaderGroupProps.push(nt),e.getFooterGroupProps.push(nt),e.getHeaderProps.push(Cr),e.getCellProps.push(Sr),e.getFooterProps.push(_r)}Xt.pluginName="useBlockLayout",$t.pluginName="useFlexLayout";var Rr=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},nt=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Cr=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},Sr=function(e,t){var n=t.cell;return[e,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},_r=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Dt(e){e.stateReducers.push(Er),e.getTableProps.push(Pr),e.getHeaderProps.push(jr),e.getRowProps.push(Ir)}a.columnStartResizing="columnStartResizing",a.columnResizing="columnResizing",a.columnDoneResizing="columnDoneResizing",a.resetResize="resetResize",Dt.pluginName="useGridLayout";var Pr=function(e,t){var n=t.instance;return[e,{style:{display:"grid",gridTemplateColumns:n.visibleColumns.map(function(r){var s;return n.state.gridLayout.columnWidths[r.id]?n.state.gridLayout.columnWidths[r.id]+"px":(s=n.state.columnResizing)!=null&&s.isResizingColumn?n.state.gridLayout.startWidths[r.id]+"px":typeof r.width=="number"?r.width+"px":r.width}).join(" ")}}]},jr=function(e,t){var n=t.column;return[e,{id:"header-cell-"+n.id,style:{position:"sticky",gridColumn:"span "+n.totalVisibleHeaderCount}}]},Ir=function(e,t){var n=t.row;return n.isExpanded?[e,{style:{gridColumn:"1 / "+(n.cells.length+1)}}]:[e,{}]};function Er(e,t,n,r){if(t.type===a.init)return c({gridLayout:{columnWidths:{}}},e);if(t.type===a.resetResize)return c({},e,{gridLayout:{columnWidths:{}}});if(t.type===a.columnStartResizing){var s=t.columnId,o=t.headerIdWidths,i=rt(s);if(i!==void 0){var f=r.visibleColumns.reduce(function(R,G){var _;return c({},R,((_={})[G.id]=rt(G.id),_))},{}),p=r.visibleColumns.reduce(function(R,G){var _;return c({},R,((_={})[G.id]=G.minWidth,_))},{}),g=r.visibleColumns.reduce(function(R,G){var _;return c({},R,((_={})[G.id]=G.maxWidth,_))},{}),b=o.map(function(R){var G=R[0];return[G,rt(G)]});return c({},e,{gridLayout:c({},e.gridLayout,{startWidths:f,minWidths:p,maxWidths:g,headerIdGridWidths:b,columnWidth:i})})}return e}if(t.type===a.columnResizing){var y=t.clientX,x=e.columnResizing.startX,m=e.gridLayout,w=m.columnWidth,C=m.minWidths,S=m.maxWidths,j=m.headerIdGridWidths,H=(y-x)/w,P={};return(j===void 0?[]:j).forEach(function(R){var G=R[0],_=R[1];P[G]=Math.min(Math.max(C[G],_+_*H),S[G])}),c({},e,{gridLayout:c({},e.gridLayout,{columnWidths:c({},e.gridLayout.columnWidths,{},P)})})}return t.type===a.columnDoneResizing?c({},e,{gridLayout:c({},e.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function rt(e){var t,n=(t=document.getElementById("header-cell-"+e))==null?void 0:t.offsetWidth;if(n!==void 0)return n}u._UNSTABLE_usePivotColumns=Ht,u.actions=a,u.defaultColumn=K,u.defaultGroupByFn=kt,u.defaultOrderByFn=Tt,u.defaultRenderer=q,u.emptyRenderer=Q,u.ensurePluginOrder=ue,u.flexRender=Ce,u.functionalUpdate=oe,u.loopHooks=fe,u.makePropGetter=U,u.makeRenderer=se,u.reduceHooks=te,u.safeUseLayoutEffect=Z,u.useAbsoluteLayout=Ut,u.useAsyncDebounce=function(e,t){t===void 0&&(t=0);var n=h.useRef({}),r=M(e),s=M(t);return h.useCallback(function(){var o=d(regeneratorRuntime.mark(function i(){var f,p,g,b=arguments;return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:for(f=b.length,p=new Array(f),g=0;g<f;g++)p[g]=b[g];return n.current.promise||(n.current.promise=new Promise(function(x,m){n.current.resolve=x,n.current.reject=m})),n.current.timeout&&clearTimeout(n.current.timeout),n.current.timeout=setTimeout(d(regeneratorRuntime.mark(function x(){return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return delete n.current.timeout,m.prev=1,m.t0=n.current,m.next=5,r().apply(void 0,p);case 5:m.t1=m.sent,m.t0.resolve.call(m.t0,m.t1),m.next=12;break;case 9:m.prev=9,m.t2=m.catch(1),n.current.reject(m.t2);case 12:return m.prev=12,delete n.current.promise,m.finish(12);case 15:case"end":return m.stop()}},x,null,[[1,9,12,15]])})),s()),y.abrupt("return",n.current.promise);case 5:case"end":return y.stop()}},i)}));return function(){return o.apply(this,arguments)}}(),[r,s])},u.useBlockLayout=Xt,u.useColumnOrder=Vt,u.useExpanded=ht,u.useFilters=Pt,u.useFlexLayout=$t,u.useGetLatest=M,u.useGlobalFilter=jt,u.useGridLayout=Dt,u.useGroupBy=Bt,u.useMountedLayoutEffect=X,u.usePagination=Gt,u.useResizeColumns=Yt,u.useRowSelect=Ot,u.useRowState=Lt,u.useSortBy=Ft,u.useTable=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=pt(e),n=[ft].concat(n);var s=h.useRef({}),o=M(s.current);Object.assign(o(),c({},e,{plugins:n,hooks:pn()})),n.filter(Boolean).forEach(function(N){N(o().hooks)});var i=M(o().hooks);o().getHooks=i,delete o().hooks,Object.assign(o(),te(i().useOptions,pt(e)));var f=o(),p=f.data,g=f.columns,b=f.initialState,y=f.defaultColumn,x=f.getSubRows,m=f.getRowId,w=f.stateReducer,C=f.useControlledState,S=M(w),j=h.useCallback(function(N,ee){if(!ee.type)throw console.info({action:ee}),new Error("Unknown Action 👆");return[].concat(i().stateReducers,Array.isArray(S())?S():[S()]).reduce(function(ie,ye){return ye(ie,ee,N,o())||ie},N)},[i,S,o]),H=h.useReducer(j,void 0,function(){return j(b,{type:a.init})}),P=H[0],R=H[1],G=te([].concat(i().useControlledState,[C]),P,{instance:o()});Object.assign(o(),{state:G,dispatch:R});var _=h.useMemo(function(){return Se(te(i().columns,g,{instance:o()}))},[i,o,g].concat(te(i().columnsDeps,[],{instance:o()})));o().columns=_;var F=h.useMemo(function(){return te(i().allColumns,_e(_),{instance:o()}).map(Pe)},[_,i,o].concat(te(i().allColumnsDeps,[],{instance:o()})));o().allColumns=F;var O=h.useMemo(function(){for(var N=[],ee=[],ie={},ye=[].concat(F);ye.length;){var pe=ye.shift();_n({data:p,rows:N,flatRows:ee,rowsById:ie,column:pe,getRowId:m,getSubRows:x,accessValueHooks:i().accessValue,getInstance:o})}return[N,ee,ie]},[F,p,m,x,i,o]),k=O[0],A=O[1],Y=O[2];Object.assign(o(),{rows:k,initialRows:[].concat(k),flatRows:A,rowsById:Y}),fe(i().useInstanceAfterData,o());var T=h.useMemo(function(){return te(i().visibleColumns,F,{instance:o()}).map(function(N){return v(N,y)})},[i,F,o,y].concat(te(i().visibleColumnsDeps,[],{instance:o()})));F=h.useMemo(function(){var N=[].concat(T);return F.forEach(function(ee){N.find(function(ie){return ie.id===ee.id})||N.push(ee)}),N},[F,T]),o().allColumns=F;var V=h.useMemo(function(){return te(i().headerGroups,ce(T,y),o())},[i,T,y,o].concat(te(i().headerGroupsDeps,[],{instance:o()})));o().headerGroups=V;var L=h.useMemo(function(){return V.length?V[0].headers:[]},[V]);o().headers=L,o().flatHeaders=V.reduce(function(N,ee){return[].concat(N,ee.headers)},[]),fe(i().useInstanceBeforeDimensions,o());var D=T.filter(function(N){return N.isVisible}).map(function(N){return N.id}).sort().join("_");T=h.useMemo(function(){return T.filter(function(N){return N.isVisible})},[T,D]),o().visibleColumns=T;var I=gt(L),W=I[0],ne=I[1],ve=I[2];return o().totalColumnsMinWidth=W,o().totalColumnsWidth=ne,o().totalColumnsMaxWidth=ve,fe(i().useInstance,o()),[].concat(o().flatHeaders,o().allColumns).forEach(function(N){N.render=se(o(),N),N.getHeaderProps=U(i().getHeaderProps,{instance:o(),column:N}),N.getFooterProps=U(i().getFooterProps,{instance:o(),column:N})}),o().headerGroups=h.useMemo(function(){return V.filter(function(N,ee){return N.headers=N.headers.filter(function(ie){return ie.headers?function ye(pe){return pe.filter(function(Be){return Be.headers?ye(Be.headers):Be.isVisible}).length}(ie.headers):ie.isVisible}),!!N.headers.length&&(N.getHeaderGroupProps=U(i().getHeaderGroupProps,{instance:o(),headerGroup:N,index:ee}),N.getFooterGroupProps=U(i().getFooterGroupProps,{instance:o(),headerGroup:N,index:ee}),!0)})},[V,o,i]),o().footerGroups=[].concat(o().headerGroups).reverse(),o().prepareRow=h.useCallback(function(N){N.getRowProps=U(i().getRowProps,{instance:o(),row:N}),N.allCells=F.map(function(ee){var ie=N.values[ee.id],ye={column:ee,row:N,value:ie};return ye.getCellProps=U(i().getCellProps,{instance:o(),cell:ye}),ye.render=se(o(),ee,{row:N,cell:ye,value:ie}),ye}),N.cells=T.map(function(ee){return N.allCells.find(function(ie){return ie.column.id===ee.id})}),fe(i().prepareRow,N,{instance:o()})},[i,o,F,T]),o().getTableProps=U(i().getTableProps,{instance:o()}),o().getTableBodyProps=U(i().getTableBodyProps,{instance:o()}),fe(i().useFinalInstance,o()),o()},Object.defineProperty(u,"__esModule",{value:!0})})})(dt,dt.exports);var ro=dt.exports;on.exports=ro;var oo=on.exports;const{Panel:lt}=Je,so=({visible:z,onClose:xe,patient:u})=>{var ge,d,c,re,B,a,q,Q,K,Re,U,te,fe,ue,oe,M;if(!u)return null;const h=(Z,X)=>l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-sm text-gray-500",children:Z}),l.jsx("div",{className:"font-medium",children:X||"-"})]});return l.jsx(Ke,{title:"View Patient Details",open:z,onCancel:xe,footer:null,width:800,children:l.jsx(J,{layout:"vertical",children:l.jsxs(Je,{defaultActiveKey:["1"],className:"mb-4",accordion:!0,children:[l.jsx(lt,{header:"Personal Information",children:l.jsxs(Le,{gutter:16,children:[l.jsxs(Ie,{span:12,children:[h("Name",u.name),h("Age",u.age),h("Gender",u.gender)]}),l.jsxs(Ie,{span:12,children:[h("Email",u.email),h("Phone",u.phone),h("Care of",u.care_person?`Dr. ${u.care_person}`:"-")]})]})},"1"),l.jsx(lt,{header:"Case Sheet Information",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"border p-4 rounded",children:[l.jsx("h3",{className:"font-bold mb-4",children:"DENTAL HISTORY"}),l.jsxs(Le,{gutter:16,children:[l.jsxs(Ie,{span:12,children:[h("Chief Complaint",(ge=u.case_sheet_info)==null?void 0:ge.chief_complaint),h("History of Present Illness",(d=u.case_sheet_info)==null?void 0:d.present_illness),h("Past Dental History",(c=u.case_sheet_info)==null?void 0:c.dental_history),h("Medical History",(re=u.case_sheet_info)==null?void 0:re.medical_history)]}),l.jsxs(Ie,{span:12,children:[h("Decayed",(B=u.case_sheet_info)==null?void 0:B.decayed),h("Grossly Decayed",(a=u.case_sheet_info)==null?void 0:a.grossly_decayed),h("Roots Stumps",(q=u.case_sheet_info)==null?void 0:q.roots_stumps),h("Other Diagnosis",(Q=u.case_sheet_info)==null?void 0:Q.other_diagnosis),h("Treatment Plan",(K=u.case_sheet_info)==null?void 0:K.treatment_plan)]})]})]}),l.jsxs("div",{className:"border p-4 rounded",children:[l.jsx("h3",{className:"font-bold mb-4",children:"PAST MEDICAL HISTORY"}),l.jsx("p",{className:"mb-2",children:"ANY RELATED DISEASES TO:"}),l.jsxs(Le,{gutter:16,children:[l.jsx(Ie,{span:12,children:["cardiovascular","respiratory","gastrointestinal","neural"].map(Z=>{var X,se;return h(Z.charAt(0).toUpperCase()+Z.slice(1),((se=(X=u.case_sheet_info)==null?void 0:X.medical_conditions)==null?void 0:se[Z])||"No")})}),l.jsx(Ie,{span:12,children:["hepatic","renal","endocrine","diabetes"].map(Z=>{var X,se;return h(Z.charAt(0).toUpperCase()+Z.slice(1),((se=(X=u.case_sheet_info)==null?void 0:X.medical_conditions)==null?void 0:se[Z])||"No")})})]})]}),l.jsxs("div",{className:"border p-4 rounded",children:[h("ALLERGIC TO",(Re=u.case_sheet_info)==null?void 0:Re.allergies),h("Have you been hospitalized / Operated?",((U=u.case_sheet_info)==null?void 0:U.hospitalization_history)||"No"),((te=u.case_sheet_info)==null?void 0:te.hospitalization_history)==="Yes"&&h("Hospitalization Details",(fe=u.case_sheet_info)==null?void 0:fe.hospitalization_details),h("Pregnancy Status",((ue=u.case_sheet_info)==null?void 0:ue.pregnancy_status)||"No"),((oe=u.case_sheet_info)==null?void 0:oe.pregnancy_status)==="Yes"&&h("Trimester",(M=u.case_sheet_info)==null?void 0:M.trimester)]})]})},"2"),l.jsx(lt,{header:"Additional Information",children:u.documents&&u.documents.length>0&&l.jsxs("div",{className:"border p-4 rounded",children:[l.jsx("h3",{className:"font-bold mb-4",children:"Documents"}),l.jsx("div",{className:"space-y-2",children:u.documents.map((Z,X)=>l.jsx("div",{className:"text-primary hover:underline cursor-pointer",children:Z.name},X))})]})},"3")]})})})},io=()=>{const[z,xe]=le.useState([]),[u,h]=le.useState(""),[ge,d]=le.useState(!1),[c,re]=le.useState(!1),[B,a]=le.useState(null),[q,Q]=le.useState(!1),[K,Re]=le.useState(!1),[U,te]=le.useState([]),[fe,ue]=le.useState(null),[oe,M]=le.useState(!1),[Z,X]=le.useState(""),se=async()=>{Q(!0);try{const E=await Or();xe(Array.isArray(E.data)?E.data:[]);const $=await rn();te(Array.isArray($.data)?$.data:[])}catch(E){Fe.error("Failed to fetch patients: "+E.message)}finally{Q(!1)}};le.useEffect(()=>{se(),Se()},[]);const Ce=E=>{a(E),M(!0)},Se=async()=>{var ze;const $=((ze=(await tn()).data)==null?void 0:ze.clinicName)||"";ue($)},_e=E=>{console.log("line 63",fe),ct(E,fe).save(`${E.name}_case_sheet.pdf`)},Pe=E=>{Ke.confirm({title:"Are you sure you want to delete this patient?",content:"This action cannot be undone.",okText:"Yes",okType:"danger",cancelText:"No",onOk(){me(E.id),re(!1)}})},v=async E=>{try{await Wr(E),Fe.success("Patient added successfully "+E.name),d(!1),se()}catch($){Fe.error("Failed to add patient: "+$.message)}},ce=async E=>{try{await Mr(E.id,E),Fe.success("Patient updated successfully "+E.name),re(!1),se()}catch($){Fe.error("Failed to update patient: "+$.message)}},me=async E=>{try{await Lr(E),Fe.success("Patient deleted successfully"),se()}catch($){Fe.error("Failed to delete patient: "+$.message)}},de=le.useMemo(()=>[{Header:"Patient ID",accessor:"patient_id",Cell:({value:E})=>l.jsx("p",{className:"text-sm text-black dark:text-white",children:E})},{Header:"Name",accessor:"name",Cell:({value:E})=>l.jsx("p",{className:"text-sm text-black dark:text-white",children:E})},{Header:"Basic Info",accessor:"contact",Cell:({row:E})=>l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("p",{className:"text-sm text-black dark:text-white",children:[l.jsx("span",{className:"font-medium",children:"Gender:"})," ",E.original.gender||"-"]}),l.jsxs("p",{className:"text-sm text-black dark:text-white",children:[l.jsx("span",{className:"font-medium",children:"Age:"})," ",E.original.age]})]})},{Header:"Care By",accessor:"care_person",Cell:({value:E})=>l.jsx("p",{className:"text-sm text-black dark:text-white",children:E?`Dr. ${E}`:"-"})},{Header:"View Case Sheet",accessor:"case_sheet",Cell:({row:E})=>l.jsx("button",{onClick:()=>{const ze=ct(E.original,Z).output("datauristring"),Ve=window.open();Ve&&Ve.document.write(`<iframe width='100%' height='100%' src='${ze}'></iframe>`)},className:"px-3 py-1 bg-primary text-white rounded hover:bg-opacity-90 text-sm",children:"View"})},{Header:"Actions",accessor:"actions",Cell:({row:E})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>Ce(E.original),className:"p-2 rounded-lg text-primary hover:bg-primary/10 active:bg-primary/20",children:l.jsx(Xr,{style:{fontSize:"18px"}})}),l.jsx("button",{onClick:()=>{a(E.original),re(!0)},className:"p-2 rounded-lg text-primary hover:bg-primary/10 active:bg-primary/20",children:l.jsx(Jr,{style:{fontSize:"18px"}})}),l.jsx("button",{onClick:()=>_e(E.original),className:"p-2 rounded-lg text-primary hover:bg-primary/10 active:bg-primary/20",children:l.jsx(Dr,{style:{fontSize:"18px"}})})]})}],[Z]),we=le.useMemo(()=>z.filter(E=>String(E.patient_id).includes(u)||E.name.toLowerCase().includes(u.toLowerCase())),[z,u]),{getTableProps:ke,getTableBodyProps:Ne,headerGroups:Ae,rows:Oe,prepareRow:He}=oo.useTable({columns:de,data:we});return le.useEffect(()=>{(async()=>{try{const $=await tn();$.success&&$.data&&X($.data.clinicName)}catch($){console.error("Error fetching clinic data:",$)}})()},[]),l.jsxs("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx(je,{placeholder:"Search patients...",value:u,onChange:E=>h(E.target.value),className:"max-w-md dark:bg-meta-4 dark:text-white",prefix:l.jsx(zr,{className:"text-gray-400"})}),l.jsx(Ge,{className:"bg-primary hover:bg-opacity-90 text-white rounded-md",onClick:()=>d(!0),icon:l.jsx(Qr,{}),children:"Add Patient"})]}),q?l.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:l.jsx(Zr,{size:"large"})}):l.jsx("div",{className:"max-w-full overflow-x-auto",children:l.jsxs("table",{...ke(),className:"w-full table-auto",children:[l.jsx("thead",{children:Ae.map(E=>l.jsx("tr",{...E.getHeaderGroupProps(),children:E.headers.map($=>l.jsx("th",{...$.getHeaderProps(),className:"font-extrabold text-black dark:text-white px-4 py-4 text-left text-sm border-b border-[#eee] dark:border-strokedark",children:$.render("Header")},$.id))},E.id))}),l.jsx("tbody",{...Ne(),children:Oe.map(E=>(He(E),l.jsx("tr",{...E.getRowProps(),className:"hover:bg-gray-1 dark:hover:bg-meta-4",children:E.cells.map($=>l.jsx("td",{...$.getCellProps(),className:"border-b border-[#eee] px-4 py-2 dark:border-strokedark text-black dark:text-white",children:$.render("Cell")},$.column.id))},E.id)))})]})}),l.jsx($r,{visible:ge,onClose:()=>d(!1),onAdd:v}),l.jsx(no,{visible:c,onClose:()=>re(!1),patient:B,onSave:ce,onDelete:Pe}),l.jsx(so,{visible:oe,onClose:()=>M(!1),patient:B}),l.jsx(eo,{visible:K,onClose:()=>Re(!1),patient:B,clinicName:Z})]})},xo=()=>l.jsxs(Vr.Fragment,{children:[l.jsx(Yr,{pageName:"Patients"}),l.jsx("div",{className:"flex flex-col gap-5",children:l.jsx(io,{})})]});export{xo as default};
